<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å‰å°¼æ£®ç¾èªç¹³è²»é€šçŸ¥å–®</title> 
    <style>
        body {
            font-family: 'PingFang TC', 'Heiti TC', 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
            -webkit-font-smoothing: antialiased;
            margin: 0; padding: 0;
            background-color: #fff8e1;
            color: #333;
            font-size: 110%;
            line-height: 1.6;
            font-weight: 500;
            touch-action: pan-y;
        }
        .header {
            background-color: #ff9800; color: white; padding: 20px; text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header h1 { margin: 0; font-weight: 900; }
        .container {
            max-width: 800px; margin: 40px auto; padding: 20px;
            background-color: white; border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        h2 { color: #d32f2f; border-bottom: 2px solid #ff9800; padding-bottom: 5px; margin-top: 30px; font-size: 1.8em; font-weight: 700; }
        h3 { color: #4CAF50; border-left: 5px solid #4CAF50; padding-left: 10px; margin-top: 30px; font-size: 1.4em; font-weight: 700; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 1em; table-layout: fixed; }
        th, td { border: 1px solid #ccc; padding: 12px 10px; text-align: center; overflow: hidden; font-weight: 600; }
        th { background-color: #f5e0a9; color: #333; font-weight: 900; }
        
        th:nth-child(1), td:nth-child(1) { width: 30%; }
        th:nth-child(2), td:nth-child(2) { width: 22%; }
        th:nth-child(3), td:nth-child(3) { width: 26%; }
        th:nth-child(4), td:nth-child(4) { width: 22%; }

        input[type="tel"] {
            width: 65px; padding: 8px 5px; text-align: center; 
            border: 1px solid #ccc; border-radius: 4px; 
            font-size: 20px; font-weight: 700;
            -webkit-appearance: none; background-color: #fff;
        }
        .qty-button {
            background-color: #4CAF50; color: white; border: 1px solid #4CAF50; 
            width: 45px; padding: 8px 0; font-size: 24px; border-radius: 4px; 
            cursor: pointer; touch-action: manipulation;
            -webkit-user-select: none; user-select: none; font-weight: 900;
        }
        /* è®“æŒ‰éˆ•è¢«æŒ‰ä¸‹æ™‚æœ‰è¦–è¦ºåé¥‹ */
        .qty-button:active { background-color: #388E3C; }

        .total-row td { font-weight: 900; background-color: #ffe0b2; }
        .change-row td { font-weight: 900; background-color: #e8f5e9; }
        #grand-total, #change-amount { font-size: 1.8em !important; font-weight: 900; color: #d32f2f; }
        #change-amount { color: #2e7d32; }
        
        .action-buttons-container { display: flex; justify-content: space-between; margin-top: 20px; gap: 10px; }
        .button-common { padding: 12px 15px; border: none; border-radius: 5px; font-size: 1em; color: white; font-weight: 700; cursor: pointer; }
        .export-button { background-color: #2196F3; }
        .delete-all-button, .clear-button { background-color: #f44336; }
        .save-button { background-color: #4CAF50; }
    </style>
</head>
<body>

    <div class="header"><h1>ğŸ¥Ÿ ç´ é£Ÿç”Ÿç…åŒ… ğŸ¥Ÿ</h1></div>

    <div class="container">
        <h2>å“é …èˆ‡é‡‘é¡è¨ˆç®—</h2>
        <h3>ä¸»é£Ÿ</h3>
        <table>
            <thead><tr><th>å“é …åç¨±</th><th>å–®åƒ¹(NT$)</th><th>è³¼è²·æ•¸é‡</th><th>å°è¨ˆ(NT$)</th></tr></thead>
            <tbody>
                <tr>
                    <td>ç´ é£Ÿç”Ÿç…åŒ…</td><td id="price-sjb">6</td>
                    <td>
                        <div class="input-group">
                            <input type="tel" id="qty-sjb" pattern="[0-9]*" inputmode="numeric" oninput="calculateTotal()">
                            <button class="qty-button" 
                                    onmousedown="startAdjusting('qty-sjb', -1)" onmouseup="stopAdjusting()" onmouseleave="stopAdjusting()"
                                    ontouchstart="startAdjusting('qty-sjb', -1)" ontouchend="stopAdjusting()">-</button>
                            <button class="qty-button" 
                                    onmousedown="startAdjusting('qty-sjb', 1)" onmouseup="stopAdjusting()" onmouseleave="stopAdjusting()"
                                    ontouchstart="startAdjusting('qty-sjb', 1)" ontouchend="stopAdjusting()">+</button>
                        </div>
                    </td>
                    <td id="subtotal-sjb">0</td>
                </tr>
                <tr>
                    <td>ç…é¹¹é¤…</td><td id="price-xb">25</td>
                    <td>
                        <div class="input-group">
                            <input type="tel" id="qty-xb" pattern="[0-9]*" inputmode="numeric" oninput="calculateTotal()">
                            <button class="qty-button" 
                                    onmousedown="startAdjusting('qty-xb', -1)" onmouseup="stopAdjusting()" onmouseleave="stopAdjusting()"
                                    ontouchstart="startAdjusting('qty-xb', -1)" ontouchend="stopAdjusting()">-</button>
                            <button class="qty-button" 
                                    onmousedown="startAdjusting('qty-xb', 1)" onmouseup="stopAdjusting()" onmouseleave="stopAdjusting()"
                                    ontouchstart="startAdjusting('qty-xb', 1)" ontouchend="stopAdjusting()">+</button>
                        </div>
                    </td>
                    <td id="subtotal-xb">0</td>
                </tr>
                <tr>
                    <td>ç´ éºµç·šç¾¹</td><td id="price-mxg">35</td>
                    <td>
                        <div class="input-group">
                            <input type="tel" id="qty-mxg" pattern="[0-9]*" inputmode="numeric" oninput="calculateTotal()">
                            <button class="qty-button" 
                                    onmousedown="startAdjusting('qty-mxg', -1)" onmouseup="stopAdjusting()" onmouseleave="stopAdjusting()"
                                    ontouchstart="startAdjusting('qty-mxg', -1)" ontouchend="stopAdjusting()">-</button>
                            <button class="qty-button" 
                                    onmousedown="startAdjusting('qty-mxg', 1)" onmouseup="stopAdjusting()" onmouseleave="stopAdjusting()"
                                    ontouchstart="startAdjusting('qty-mxg', 1)" ontouchend="stopAdjusting()">+</button>
                        </div>
                    </td>
                    <td id="subtotal-mxg">0</td>
                </tr>
            </tbody>
        </table>
        
        <h3>é£²å“</h3>
        <table>
            <thead><tr><th>å“é …åç¨±</th><th>å–®åƒ¹(NT$)</th><th>è³¼è²·æ•¸é‡</th><th>å°è¨ˆ(NT$)</th></tr></thead>
            <tbody>
                <tr>
                    <td>è±†æ¼¿</td><td id="price-dz">20</td>
                    <td>
                        <div class="input-group">
                            <input type="tel" id="qty-dz" pattern="[0-9]*" inputmode="numeric" oninput="calculateTotal()">
                            <button class="qty-button" ontouchstart="startAdjusting('qty-dz', -1)" ontouchend="stopAdjusting()">-</button>
                            <button class="qty-button" ontouchstart="startAdjusting('qty-dz', 1)" ontouchend="stopAdjusting()">+</button>
                        </div>
                    </td>
                    <td id="subtotal-dz">0</td>
                </tr>
                <tr>
                    <td>ç´…èŒ¶</td><td id="price-hc">20</td>
                    <td>
                        <div class="input-group">
                            <input type="tel" id="qty-hc" pattern="[0-9]*" inputmode="numeric" oninput="calculateTotal()">
                            <button class="qty-button" ontouchstart="startAdjusting('qty-hc', -1)" ontouchend="stopAdjusting()">-</button>
                            <button class="qty-button" ontouchstart="startAdjusting('qty-hc', 1)" ontouchend="stopAdjusting()">+</button>
                        </div>
                    </td>
                    <td id="subtotal-hc">0</td>
                </tr>
            </tbody>
        </table>

        <table style="margin-top: 40px;">
            <tr class="total-row">
                <td style="text-align:right; padding-right:20px;"><strong>ç¸½è¨ˆé‡‘é¡</strong></td>
                <td id="grand-total">0</td>
            </tr>
            <tr class="change-row">
                <td style="text-align:right; padding-right:20px;"><strong>æ‡‰æ‰¾é›¶éŒ¢</strong></td>
                <td id="change-amount">0</td>
            </tr>
        </table>

        <div class="action-buttons-container">
            <button class="button-common save-button" onclick="saveOrder()">å„²å­˜è¨‚å–®</button>
            <button class="button-common clear-button" onclick="clearQuantities()">å…¨éƒ¨é‡ç½®</button>
        </div>
        
        <p style="text-align: center; margin-top: 15px; font-size: 0.9em; color: #666;">v260110.19</p>
    </div>

    <script>
        const items = ['sjb', 'xb', 'mxg', 'dz', 'hc'];
        let adjustTimer;
        let isLongPress = false;

        // é•·æŒ‰ç´¯åŠ /ç´¯æ¸›æ ¸å¿ƒé‚è¼¯
        function startAdjusting(itemId, change) {
            // å…ˆåŸ·è¡Œä¸€æ¬¡çŸ­é»æ“Š
            adjustQuantity(itemId, change);
            
            // è¨­å®šå»¶é²ï¼Œå¦‚æœæŒ‰ä½è¶…é 500 æ¯«ç§’ï¼Œé–‹å§‹é€£çºŒåŸ·è¡Œ
            adjustTimer = setTimeout(() => {
                isLongPress = true;
                adjustTimer = setInterval(() => {
                    adjustQuantity(itemId, change);
                }, 100); // æ¯ 100 æ¯«ç§’å¢åŠ ä¸€æ¬¡
            }, 500);
        }

        function stopAdjusting() {
            clearTimeout(adjustTimer);
            clearInterval(adjustTimer);
            isLongPress = false;
        }

        function adjustQuantity(itemId, change) {
            const qtyInput = document.getElementById(itemId);
            let currentQty = parseInt(qtyInput.value) || 0;
            let newQty = Math.max(0, currentQty + change);
            qtyInput.value = (newQty === 0) ? '' : newQty;
            calculateTotal();
        }

        function calculateTotal() {
            let grandTotal = 0;
            items.forEach(item => {
                const price = parseFloat(document.getElementById(`price-${item}`).textContent);
                const qty = parseInt(document.getElementById(`qty-${item}`).value) || 0;
                const subtotal = price * qty;
                document.getElementById(`subtotal-${item}`).textContent = subtotal;
                grandTotal += subtotal;
            });
            document.getElementById('grand-total').textContent = grandTotal;
        }

        function clearQuantities() {
            document.querySelectorAll('input[type="tel"]').forEach(input => { input.value = ''; });
            calculateTotal();
        }

        function saveOrder() {
            alert("è¨‚å–®å·²å„²å­˜ (æ¸¬è©¦ç‰ˆ)");
        }
    </script>
</body>
</html>
